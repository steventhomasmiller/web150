<!doctype html>
<html>
<head>
    <title>Functionality</title>
    <meta charset="utf-8">
</head>
<body>
    <h1>Functionality</h1>

    <p>
        For this assignment, edit the source code below and edit the provided functions so that the tests will pass. Tests will be output to the console.

    <script>
//Our assert function, since console.assert() only logs failures
var assert = function(test, message) {
    if (test) {
        //passing test, use lovely .info() format!
        console.info(message || "Test passed!");
    } else {
        //failed, use error()
        console.error(message || "Test failed!");
    }
};

//1. Create a function that returns a "doubled" string: "hello" -> "hellohello"
var doubler = function(item) { 
	var doubledString = item + item; //couldn't make multiplication work
	return doubledString;
};

assert( doubler("a") == "aa", "Double simple strings");
assert( doubler("bbc") == "bbcbbc", "Double longer strings as well");

//2. Create a function that converts decimal values into percentage strings: .01 -> "1%"
var makePercentage = function(item) {
	var percentageNum = item * 100 + "%";
	return percentageNum;
};

assert( makePercentage(.13) == "13%" ); //*100 + %
assert( makePercentage(1) == "100%" );
assert( makePercentage(.456) == "45.6%", "Don't round your results");

//3. Create a function that takes two numbers and adds them together. If you
//feed it a string, it should convert it to a number first.
var adder = function(first, second) {	
	var firstNum = Number(first);
	var secondNum = Number(second); //not pretty, but it works
	var added = firstNum + secondNum;
	//added = parseFloat(added);
	return added;
};


assert( adder(1, 2) == 3, "Numbers should be added together");
assert( adder("2", 4) == 6, "Strings should be converted to numbers");
assert( isNaN( adder("abc", 4) ) && typeof adder("abc", 4) == "number", "Bad input should result in NaN");

//4. Using the concept of function scope, change the variable `greeting` to
//read "Hello, world!" just by editing the function `sayHello`.

var greeting; 

var sayHello = function(welcome) {
	greeting = welcome;
	return welcome;
};

sayHello();
assert( greeting == "Hello, world!", "sayHello() should alter greeting");

//5. Remember our loops? They're back: update `findTotal` so that it totals up
//all the numbers in an array that's passed in. //add things in a loop
var samples = [5, 5, 5, 5, 5];
var findTotal = function(arr) {
	var sum = 0;
	for (var i = 0; i < arr.length; i++)
	{
		sum += arr[i];
	}
	return sum;
};

assert( findTotal(samples) == 15, "Function found the correct total");

//6. BONUS: Using the idea of functions as objects, update `identity` so
//that it calls the function that is passed in, and returns its value.
var testFunction = function() { return "This value should pass through " };
var identity = function() {};

assert( identity(testFunction) == testFunction(), "(bonus) Identity function should call its argument");

//7. BONUS: Combining loops and functions, you never have to write a loop
//again. Update `each` so that it:
// a) takes as its arguments an array and a function,
// b) calls that function on each item in the array

var each = function() {};

var fraction = 1;
var divide = function(item) {
    fraction = fraction / item;
};
each(samples, divide);
assert( fraction == 1 / 1 / 2 / 3 / 4 / 5, "(bonus) Your first iterator function");

    </script>
</body>
</html>
